import pytest


@pytest.mark.asyncio
async def test_create_product(client, auth_user):
    response = await client.post("/api/v1/create-product/", json={
        "name": "product_name_test",
        "image": 'data:image/jpeg;base64,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',
        "price": 0.00001,
        "wallet_address": "0xD8f38DaA59799900b9629622b8D9B17a3CfD4bA9"
    })
    print(response.json())
    assert response.status_code == 200
